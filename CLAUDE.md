# Claude Code ルールファイル

## プロジェクト概要
- **プロジェクト名**: 天気予報＋服装提案掲示板アプリ
- **文書番号**: 09-002
- **リポジトリ**: https://github.com/Murasan201/09-002-weather-outfit-advisor

## 作業開始時の必須手順
1. **要件定義書の確認**: 作業開始時は必ず `09-002_天気予報＋服装提案掲示板アプリ_要件定義書.md` を確認すること
2. 要件定義書の内容に基づいて作業を進めること
3. 機能要件・非機能要件・受け入れ基準を満たしているか確認すること

## 技術スタック
- **言語**: Python 3.9以上
- **ハードウェア**: Raspberry Pi 5 + LCD1602（I²C接続）
- **API**: OpenWeatherMap API, OpenAI API
- **主要ライブラリ**: requests, openai, RPLCD, smbus2, python-dotenv

## コーディング規約
- PEP8準拠のコードスタイル
- 適切なコメント記載
- 関数分割による可読性の向上
- 単一ファイル完結を基本とする

## エラーハンドリング要件
- API通信エラー時のリトライ機能
- エラーログの適切な出力
- ネットワーク切断時の対応

## テスト要件
以下のテストを実装・実行すること：
- API取得テスト（無効APIキー、ネットワーク切断対応）
- 判定ロジックテスト（各気温・天気パターン）
- LCD表示テスト（横スクロール動作）
- 定期実行テスト（指定時刻での実行）

## 受け入れ基準
1. 当日の天気と服装アドバイスがLCD1602で正しくスクロール表示される
2. APIエラー発生時にログが出力され、次実行で回復する
3. 環境変数変更が即時反映される

## 環境設定
- `.env`ファイルでAPI認証情報を管理
- 必要なAPIキー: `WEATHER_API_KEY`, `OPENAI_API_KEY`
- デフォルト都市: Tokyo（`CITY_NAME`で変更可能）

## 実行・デプロイメント
- メインファイル: `weather_outfit_advisor.py`
- 定期実行: cronジョブによる毎朝8時実行を推奨
- ログファイル: `weather_outfit.log`で動作確認

## 開発時の注意事項
- ハードウェア依存部分（LCD制御）のモックアップ対応
- API利用制限を考慮した実装
- Raspberry Pi環境での動作確認必須